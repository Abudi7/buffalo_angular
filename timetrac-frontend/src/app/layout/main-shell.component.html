<!-- Modern floating navigation -->
<div class="main-shell">
  <!-- Hamburger menu button -->
  <button class="hamburger-btn" (click)="toggleNav()" [class.active]="showNav">
    <span class="hamburger-line"></span>
    <span class="hamburger-line"></span>
    <span class="hamburger-line"></span>
  </button>

  <!-- Floating navigation menu -->
  <div
    class="floating-nav"
    (mouseenter)="onMouseEnter()"
    (mouseleave)="onMouseLeave()"
    [class.show]="showNav"
  >
    <div class="nav-menu">
      <div class="nav-header">
        <div class="logo">
          <div class="logo-icon">⏱️</div>
          <span class="logo-text">TimeTrac</span>
        </div>
        <button class="close-btn" (click)="hideNav()">
          <ion-icon name="close-outline"></ion-icon>
        </button>
      </div>

      <div class="nav-items">
        <a
          routerLink="/home"
          routerLinkActive="active"
          class="nav-item"
          (click)="hideNav()"
        >
          <ion-icon name="home-outline"></ion-icon>
          <span class="nav-text">Home</span>
        </a>

        <a
          routerLink="/analytics"
          routerLinkActive="active"
          class="nav-item"
          (click)="hideNav()"
        >
          <ion-icon name="analytics-outline"></ion-icon>
          <span class="nav-text">Analytics</span>
        </a>

        <a
          routerLink="/teams"
          routerLinkActive="active"
          class="nav-item"
          (click)="hideNav()"
        >
          <ion-icon name="people-outline"></ion-icon>
          <span class="nav-text">Teams</span>
        </a>

        <a
          routerLink="/reports"
          routerLinkActive="active"
          class="nav-item"
          (click)="hideNav()"
        >
          <ion-icon name="document-text-outline"></ion-icon>
          <span class="nav-text">Reports</span>
        </a>

        <a
          routerLink="/settings"
          routerLinkActive="active"
          class="nav-item"
          (click)="hideNav()"
        >
          <ion-icon name="settings-outline"></ion-icon>
          <span class="nav-text">Settings</span>
        </a>

        <div class="nav-divider"></div>

        <div class="nav-item user-info" *ngIf="userEmail$ | async as email">
          <ion-avatar class="user-avatar">
            <img [src]="avatarFor(email)" alt="avatar" />
          </ion-avatar>
          <div class="user-details">
            <span class="user-email">{{ email }}</span>
            <span class="user-status">Online</span>
          </div>
        </div>

        <button class="nav-item logout-btn" (click)="onLogout()">
          <ion-icon name="log-out-outline"></ion-icon>
          <span class="nav-text">Logout</span>
        </button>
      </div>

      <div class="nav-footer">
        <button class="lang-btn" (click)="cycleLang()">
          <ion-icon name="globe-outline"></ion-icon>
          <span class="nav-text">Language</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Main content area -->
  <div class="main-content">
    <ion-router-outlet></ion-router-outlet>
  </div>
</div>
